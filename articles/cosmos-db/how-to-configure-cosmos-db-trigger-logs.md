---
title: Configure and read logs with Azure Functions trigger for Cosmos DB 
description: Learn how to expose the logs to the Azure Functions logging pipeline when using Azure Functions trigger for Cosmos DB
author: ealsur
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 07/17/2019
ms.author: maquaran
---

# How to configure and read the logs when using Azure Functions trigger for Cosmos DB

This article describes how you can configure your Azure Functions environment to send the Azure Functions trigger for Cosmos DB logs to your configured [monitoring solution](../azure-functions/functions-monitoring.md).

## Included logs

The Azure Functions trigger for Cosmos DB uses the [Change Feed Processor Library](./change-feed-processor.md) internally, and the library generates a set of health logs that can be used to monitor internal operations for [troubleshooting purposes](./troubleshoot-changefeed-functions.md).

The health logs describe how the Azure Functions trigger for Cosmos DB behaves when attempting operations during load-balancing scenarios or initialization.

## Enabling logging

To enable logging when using Azure Functions trigger for Cosmos DB, locate the `host.json` file in your Azure Functions project or Azure Functions App and [configure the level of required logging](../azure-functions/functions-monitoring.md#log-configuration-in-hostjson). You have to enable the traces for  `Host.Triggers.CosmosDB` as shown in the following sample:

```js
{
  "version": "2.0",
  "logging": {
    "fileLoggingMode": "always",
    "logLevel": {
      "Host.Triggers.CosmosDB": "Trace"
    }
  }
}
```

After the Azure Function is deployed with the updated configuration, you will see the Azure Functions trigger for Cosmos DB logs as part of your traces. You can view the logs in your configured logging provider under the *Category* `Host.Triggers.CosmosDB`.

## Query the logs

Run the following query to query the logs generated by the Azure Functions trigger for Cosmos DB in [Azure Application Insights' Analytics](../azure-monitor/app/analytics.md):

```sql
traces
| where customDimensions.Category == "Host.Triggers.CosmosDB"
```

## Next steps

* [Enable monitoring](../azure-functions/functions-monitoring.md) in your Azure Functions applications.
* Learn how to [Diagnose and troubleshoot common issues](./troubleshoot-changefeed-functions.md) when using the Azure Functions trigger for Cosmos DB.