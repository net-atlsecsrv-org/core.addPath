---
title: Microsoft identity platform Python web app quickstart | Azure
description: Learn how to implement Microsoft Sign-In on a Python Web App using OAuth2
services: active-directory
documentationcenter: dev-center-name
author: abhidnya13
editor: ''

ms.assetid: 9551f0b5-04f2-44d7-87b5-756409180fe9
ms.service: active-directory
ms.subservice: develop
ms.devlang: na
ms.topic: quickstart
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 09/25/2019
ms.author: abpati
ms.custom: aaddev 
---

# Quickstart: Add sign-in with Microsoft to a Python web app

[!INCLUDE [active-directory-develop-applies-v2](../../../includes/active-directory-develop-applies-v2.md)]

In this quickstart, you'll learn how to integrate a Python web application with the Microsoft identity platform. Your app will sign in a user, get an access token to call the Microsoft Graph API, and make a request to the Microsoft Graph API.

When you've completed the guide, your application will accept sign-ins of personal Microsoft accounts (including outlook.com,
 live.com, and others) and work or school accounts from any company or organization that uses Azure Active Directory.

![Shows how the sample app generated by this quickstart works](media/quickstart-v2-python-webapp/python-quickstart.svg)

## Prerequisites

To run this sample, you will need:

- [Python 2.7+](https://www.python.org/downloads/release/python-2713) or [Python 3+](https://www.python.org/downloads/release/python-364/)
- [Flask](http://flask.pocoo.org/), [Flask-Session](https://pythonhosted.org/Flask-Session/), [requests](https://2.python-requests.org/en/master/)
- [MSAL Python](https://github.com/AzureAD/microsoft-authentication-library-for-python) 
- An Azure Active Directory (Azure AD) tenant. For more information on how to get an Azure AD tenant, see [how to get an Azure AD tenant.](https://docs.microsoft.com/azure/active-directory/develop/quickstart-create-new-tenant)

> [!div renderon="docs"]
>
> ## Register and download your quickstart app
>
> You have two options to start your quickstart application: express (Option 1), and manual (Option 2)
>
> ### Option 1: Register and auto configure your app and then download your code sample
>
> 1. Go to the [Azure portal - App registrations](https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/RegisteredApps).
> 1. Select **New registration**.
> 1. Enter a name for your application and select **Register**.
> 1. Follow the instructions to download and automatically configure your new application.
>
> ### Option 2: Register and manually configure your application and code sample
>
> #### Step 1: Register your application
>
> To register your application and add the app's registration information to your solution manually, follow these steps:
>
> 1. Sign in to the [Azure portal](https://portal.azure.com) using either a work or school account, or a personal Microsoft account.
> 1. If your account gives you access to more than one tenant, select your account in the top right corner, and set your portal session to the desired Azure AD tenant.
> 1. Navigate to the Microsoft identity platform for developers [App registrations](https://go.microsoft.com/fwlink/?linkid=2083908) page.
> 1. Select **New registration**.
> 1. When the **Register an application** page appears, enter your application's registration information:
>      - In the **Name** section, enter a meaningful application name that will be displayed to users of the app, for example `python-webapp`.
>      - Under **Supported account types**, select **Accounts in any organizational directory and personal Microsoft accounts**.
>      - Under the **Redirect URI** section, in the drop-down list, select the **Web** platform, and then set the value to `http://localhost:5000/getAToken`.
>      - Select **Register**. On the app **Overview** page, note the **Application (client) ID** value for later use.
> 1. On the left hand menu, choose **Certificates & secrets** and click on **New client secret** in the **Client Secrets** section:
>
>      - Type a key description (of instance app secret).
>      - Select a key duration of **In 1 year**.
>      - When you click on **Add**, the key value will be displayed.
>      - Copy the value of the key. You will need it later.
>
> [!div class="sxs-lookup" renderon="portal"]
>
> #### Step 1: Configure your application in Azure portal
>
> For the code sample for this quickstart to work, you need to:
>
> 1. Add a reply URL as `http://localhost:5000/getAToken`.
> 1. Create a Client Secret.
>
> > [!div renderon="portal" id="makechanges" class="nextstepaction"]
> > [Make this change for me]()
> > [!div id="appconfigured" class="alert alert-info"]
> > ![Already configured](media/quickstart-v2-aspnet-webapp/green-check.png) Your application is configured with this attribute

#### Step 2: Download your project

[Download the Code Sample](https://github.com/Azure-Samples/ms-identity-python-webapp/archive/master.zip)

#### Step 3: Configure the Application

1. Extract the zip file to a local folder closer to the root folder - for example, **C:\Azure-Samples**
1. If you use an integrated development environment, open the sample in your favorite IDE (optional).
1. Open the **app_config.py** file, which can be found in the root folder and replace with the following code snippet:

```python
CLIENT_SECRET = "Enter_the_Client_Secret_Here"
CLIENT_ID = "Enter_the_Application_Id_here"
```

> [!div renderon="docs"]
> Where:
>
> - `Enter_the_Application_Id_here` - is the Application Id for the application you registered.
> - `Enter_the_Client_Secret_Here` - is the **Client Secret** you created in **Certificates & Secrets**  for the application you registered.

#### Step 4: Run the code sample

1. You will need to install MSAL Python library, Flask framework, Flask-Sessions for server-side session management and requests using pip as follows:

   ```Shell
   pip install -r requirements.txt
   ```

2. Run app.py from shell or command line:

   ```Shell
   python app.py
   ```

## Next steps

Learn more about web apps that sign in users, and then that calls web APIs:

> [!div class="nextstepaction"]
> [Scenario: Web apps that sign in users](scenario-web-app-sign-user-overview.md)

[!INCLUDE [Help and support](../../../includes/active-directory-develop-help-support-include.md)]
