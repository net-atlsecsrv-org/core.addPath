---
title: Lead management questions and troubleshooting - Microsoft Partner Center
description: Read about common errors and questions when configuring commercial marketplace leads in Partner Center 
ms.service: marketplace
ms.subservice: partnercenter-marketplace-publisher
ms.topic: conceptual
author: keferna
ms.author: keferna
ms.date: 10/01/2020
---

# Common questions and troubleshooting for lead configuration

This article answers some common questions about lead management for your commercial marketplace offers. It also addresses errors you might encounter when configuring leads to your customer relationship management (CRM) system in Partner Center.

## Common questions about lead management

#### Where can I get help in setting up my lead destination?

See [Customer leads from your commercial marketplace offer](partner-center-portal/commercial-marketplace-get-customer-leads.md) for an overview of how to connect your CRM system to your commercial marketplace offers. If you have an error, review the troubleshooting guidance below. For more support, submit a support ticket through [Partner Center Help and support](https://aka.ms/marketplacepublishersupport). Then select **Offer creation** > **Your type of offer** > **Lead management configuration**.

#### Am I required to configure a lead destination in order to publish an offer in the commercial marketplace?

The answer depends on the type of offer you're publishing. Software as a service (SaaS) and Dynamics 365 Customer Engagement use **Contact Me** to list all Dynamics 365 for Finance and Operations offers, all Dynamics 365 Business Central offers, and all Consulting Service offers. As a result, they require a connection to a lead destination. If your offer type wasn't listed, a connection to a lead destination isn't required. We recommend that you configure a lead destination so you don't miss business opportunities.

#### How can I find the test lead?

Search for `"MSFT_TEST"` in your lead destination. Below is a sample test lead from Microsoft. Note that the format of the test lead varies depending on the lead destination.

```
{
    "UserDetails": {
      "FirstName": "MSFT_TEST_636573304831318844",
      "LastName": "MSFT_TEST_636573304831318844",
      "Email": "MSFT_TEST_636573304831318844@test.com",
      "Phone": "1234567890",
      "Country": "US",
      "Company": "MSFT_TEST_636573304831318844",
      "Title": "MSFT_TEST_636573304831318844"
    },
    "LeadSource": "AzureMarketplace",
    "ActionCode": "INS",
    "OfferTitle": "Contoso Test"
    "Description": "MSFT_TEST_636573304831318844"
}
```

#### I have a live offer, but why am I not seeing any leads?

Make sure your connection to the lead destination is valid. We'll send you a test lead after you select **Publish** on your offer in Partner Center. If you see the test lead, the connection is valid. You can also test your lead connection by trying to acquire the offer preview during the preview step. Select **Get It Now**, **Contact Me**, or **Free Trial** on the listing in the commercial marketplace.

Also, make sure you're looking for the right data. See [Understand lead data](partner-center-portal/commercial-marketplace-get-customer-leads.md) for an explanation of the lead data we send to your lead destination.

#### I configured Azure Blob storage as my lead destination, but why don't I see the lead?

Azure Blob storage is no longer supported as a lead destination, so you're missing any customer leads generated by your offer. Switch to any of the other [lead destination options](partner-center-portal/commercial-marketplace-get-customer-leads.md). 

#### I received an email from the commercial marketplace, but why can't I find the lead in my CRM?

It's possible that the end user's email domain is from .edu. For privacy reasons, we don't pass personal information from the .edu domain. Submit a support ticket through [Partner Center Help and support](https://aka.ms/marketplacepublishersupport).

#### I configured an Azure table as my lead destination. How can I view the leads?

You can access the lead data stored in the Azure table from the Azure portal. You can also download and install [Azure Storage Explorer](https://azure.microsoft.com/features/storage-explorer/) for free to view your Azure storage account's table data.

#### I configured an Azure table as my lead destination. Can I get notified whenever a new commercial marketplace lead is sent?

Yes. Follow the instructions in [Configure lead management by using an Azure table](partner-center-portal/commercial-marketplace-lead-management-instructions-azure-table.md) to set up a Microsoft flow that sends an email if a lead is added to the Azure table.

#### I configured Salesforce as my lead destination, but why can't I find the leads?

Check if the web-to-lead form is a mandatory field based on a pick list. If it is, switch the field to a nonmandatory text field.

#### There was an issue with my lead destination, and I missed some leads. Can I have them sent to me in an email?

Due to personal information policies, we can't share lead information through unsecured email.

#### I configured an Azure table as my lead destination. How much will it cost?

Lead generation data is low. It's less than 1 GB for almost all publishers. The cost depends on the number of leads received. For example, if 1,000 leads are received in a month, the cost is around 50 cents. For more information about storage pricing, see [Azure Storage overview pricing](https://azure.microsoft.com/pricing/details/storage/).

If your question isn't answered, contact Microsoft Support through [Partner Center Help and support](https://aka.ms/marketplacepublishersupport). Then select **Offer creation** > **Your type of offer** > **Lead management configuration**.

#### I'm receiving email notifications when new customer leads are received. How can I configure someone else to receive these emails?

Access your offer in Partner Center, and go to the **Offer setup** page > **Lead Management** > **Edit**. Update the email addresses under the **Contact email** field.

## <a id="publishing-config-errors"></a> Troubleshooting lead configuration errors

**Could not save the lead to Dynamics CRM. Check the Dynamics CRM account settings. LastCRMError: Unable to sign in to Dynamics CRM, LastCRMException:** 

> If Microsoft 365 authentication was selected, check if the user account and password is valid. If Azure Active Directory was selected, check if the tenant ID, application ID and application secret key matches what was set up on Azure Active Directory. Follow instructions [here](./partner-center-portal/commercial-marketplace-lead-management-instructions-dynamics.md). If the account username/password is valid, please make sure it has access to Dynamics 365 and has a license assigned (Steps 11-15 if using Azure Active Directory or Security Settings if using an Office user). 

**Could not save the lead to Dynamics CRM. User does not have create permissions for the leadsourcecode attribute in the lead entity** 

> The application/user is missing security role(s) to Microsoft Marketplace lead writer. Follow steps 11-15 if using Azure Active Directory, or Security Settings if using an Office user [here](./partner-center-portal/commercial-marketplace-lead-management-instructions-dynamics.md).

**Could not save the lead to Dynamics CRM using AAD. Exception:: Tenant not found. This instance may happen if there are no active subscriptions for the tenant.**  

> The Directory Id provided in the lead management section is not a valid directory. Please get the Directory Id based on the instructions at Step 2 (under Azure Active Directory) [here](./partner-center-portal/commercial-marketplace-lead-management-instructions-dynamics.md).

**Could not save the lead to Dynamics CRM. LastCRMError: SecLib::RetrievePrivilegeForUser failed - no roles are assigned to user.**  

> Resolution: Assign Security role to Microsoft Marketplace lead writer. Follow instructions [here](./partner-center-portal/commercial-marketplace-lead-management-instructions-dynamics.md) under Security settings.

**Could not save the lead to Dynamics CRM using AAD. Exception:: Application with identifier was not found in the directory** 

> The Application Id provided in the lead management section is not a valid directory. Please get the Directory Id based on the instructions at Step 8 (under Azure Active Directory, from [here](./partner-center-portal/commercial-marketplace-lead-management-instructions-dynamics.md)). 

**Could not save the lead to Dynamics CRM using AAD. Exception:: Requested tenant identifier is not valid and not valid external domain format** 

> The Directory Id provided in the lead management section is not a valid directory. Please get the Directory Id based on the instructions at Step 2 (under Azure Active Directory, from [here](./partner-center-portal/commercial-marketplace-lead-management-instructions-dynamics.md)). 

**Could not save the lead to Dynamics CRM using AAD. Exception:: Error validating credentials.: Invalid client secret is provided.** 

> Resolution: Sign in to the Azure portal, check if the application key matches what's in the Partner Center. Please generate password based on the instruction at Step 10 (under Azure Active Directory), from [here](./partner-center-portal/commercial-marketplace-lead-management-instructions-dynamics.md)). 

**Could not save the lead to Dynamics CRM. LastCRMError: The request channel timed out while waiting for a reply after 00:02:00. Increase the timeout value passed to the call to Request or increase the SendTimeout value on the Binding. The time allotted to this operation may have been a portion of a longer timeout.**  

> Resolution: Sign in to Partner Center, check Offer setup >> Customer leads >> URL, check if it's a valid Dynamic CRM instance.

